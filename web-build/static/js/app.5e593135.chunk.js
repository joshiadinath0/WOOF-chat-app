(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{265:function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var n=a(111),r=a(81),o=a(0),i=a.n(o),c=a(2),l=a(196),s=a(19),u=a.n(s),d=a(26),m=a(3),p=a(34),h=a(92),f=a(83),g=(a(340),a(341),(0===f.apps.length?f.initializeApp({apiKey:"AIzaSyDnYg5Ai-JIlU-RjNnskGOpjpk1mn__znY",authDomain:"woof-f497f.firebaseapp.com",databaseURL:"https://woof-f497f-default-rtdb.firebaseio.com",projectId:"woof-f497f",storageBucket:"woof-f497f.appspot.com",messagingSenderId:"1090222539923",appId:"1:1090222539923:web:0c1cd4ccca77b32288f966",measurementId:"G-1BJ87447KJ"}):f.app()).firestore()),E=f.auth(),b=function(e){var t=e.navigation,a=Object(o.useState)(""),n=u()(a,2),c=n[0],l=n[1],s=Object(o.useState)(""),f=u()(s,2),g=f[0],b=f[1];Object(o.useEffect)((function(){return E.onAuthStateChanged((function(e){e&&t.replace("Home")}))}),[]);var v=function(){E.signInWithEmailAndPassword(c,g).catch((function(e){return alert(e)}))};return i.a.createElement(h.a,{behavior:"padding",enabled:!0,style:y.container},i.a.createElement(r.a,{style:"light"}),i.a.createElement(p.c,{source:{uri:"https://st2.depositphotos.com/4265001/12417/v/950/depositphotos_124171514-stock-illustration-husky-dog-logo.jpg"},style:{width:200,height:200}}),i.a.createElement(m.a,{style:y.inputContainer},i.a.createElement(p.d,{placeholder:"Email",autoFocus:!0,type:"Email",value:c,onChangeText:function(e){return l(e)}}),i.a.createElement(p.d,{placeholder:"Password",secureTextEntry:!0,type:"password",value:g,onChangeText:function(e){return b(e)},onSubmitEditing:v})),i.a.createElement(p.b,{containerStyle:y.button,title:"Login",buttonStyle:{backgroundColor:"#43464B"},onPress:v}),i.a.createElement(p.b,{containerStyle:y.button,title:"Register",type:"outline",onPress:function(){t.navigate("Register")},titleStyle:{color:"#43464B"}}),i.a.createElement(d.a,null,"By Adinath \ud83d\ude01"))},y=c.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:10,backgroundColor:"white"},inputContainer:{width:300},button:{width:200,marginTop:10}}),v=a(368),w=a(17),C=a.n(w),S=a(36),k=a(249),O=a(159),x=a(70),j=function(e){var t=e.navigation,a=Object(o.useState)(""),n=u()(a,2),c=n[0],l=n[1],s=Object(o.useState)(""),d=u()(s,2),f=d[0],g=d[1],b=Object(o.useState)(""),y=u()(b,2),v=y[0],w=y[1],j=Object(o.useState)(""),L=u()(j,2),R=L[0],B=L[1],P=function(){var e;return C.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"===Platform.OS){t.next=6;break}return t.next=3,C.a.awrap(O.b());case 3:e=t.sent,"granted"!==e.status&&alert("We need permission to access your camera ");case 6:I();case 7:case"end":return t.stop()}}),null,null,null,Promise)},I=function(){var e;return C.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.awrap(O.a({mediaTypes:x.a.All,allowsEditing:!0,aspect:[1,1],quality:.5}));case 3:(e=t.sent).cancelled||B(e.uri),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error @pickImage:",t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)};Object(o.useLayoutEffect)((function(){t.setOptions({headerBackTitle:"Back to Login"})}),[t]);var z=function(){E.createUserWithEmailAndPassword(f,v).then((function(e){e.user.updateProfile({displayName:c,photoURL:R||"https://st3.depositphotos.com/13159112/17145/v/380/depositphotos_171453724-stock-illustration-default--profile-icon-grey.jpg"})})).catch((function(e){return alert(e.message)}))};return i.a.createElement(h.a,{behavior:"padding",enabled:!0,style:T.container},i.a.createElement(r.a,{style:"light"}),i.a.createElement(p.f,{h3:!0,style:{marginBottom:50}},"Create a WOOF! account"),i.a.createElement(m.a,{style:T.inputContainer},i.a.createElement(m.a,{style:T.profileImage},R?i.a.createElement(S.a,{source:{uri:R},style:{width:100,height:100},onPress:P}):i.a.createElement(k.a,{name:"plus",size:24,color:"#FFFF",onPress:P})),i.a.createElement(p.d,{placeholder:"Full Name",autoFocus:!0,type:"text",value:c,onChangeText:function(e){return l(e)}}),i.a.createElement(p.d,{placeholder:"Email",type:"email",autoCapitalize:"none",autoCompleteType:"email",value:f,onChangeText:function(e){return g(e)},keyboardType:"email-address"}),i.a.createElement(p.d,{placeholder:"Password",type:"text",secureTextEntry:!0,value:v,onChangeText:function(e){return w(e)},onSubmitEditing:z})),i.a.createElement(p.b,{containerStyle:T.button,buttonStyle:{backgroundColor:"#43464B"},onPress:z,title:"Register",raised:!0}))},T=c.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:10,backgroundColor:"white"},button:{width:200,marginTop:10},inputContainer:{width:300},profileImage:{backgroundColor:"#43464B",borderRadius:40,height:80,width:80,marginTop:-20,marginBottom:10,overflow:"hidden",alignSelf:"center",alignItems:"center",justifyContent:"center"}}),L=function(e){var t,a,n,r=e.id,c=e.chatName,l=e.enterChat,s=Object(o.useState)([]),d=u()(s,2),m=d[0],h=d[1];return Object(o.useEffect)((function(){return g.collection("chats").doc(r).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return h(e.docs.map((function(e){return e.data()})))}))}),[]),i.a.createElement(p.e,{key:r,onPress:function(){return l(r,c)},key:r,bottomDivider:!0},i.a.createElement(p.a,{rounded:!0,source:{uri:(null==m||null==(t=m[0])?void 0:t.photoURL)||"http://www.cencup.com/wp-content/uploads/2019/07/avatar-placeholder.png"}}),i.a.createElement(p.e.Content,null,i.a.createElement(p.e.Title,{style:{fontWeight:"800"}},c),i.a.createElement(p.e.Subtitle,{numberOfLines:1,ellipsizeMode:"tail"},null==m||null==(a=m[0])?void 0:a.displayName,":",null==m||null==(n=m[0])?void 0:n.message)))},R=(c.a.create({}),a(131)),B=a(54),P=a(244),I=function(e){var t=e.navigation,a=function(){E.signOut().then((function(){return t.replace("Login to WOOF!")}))},r=Object(o.useState)([]),c=u()(r,2),l=c[0],s=c[1];Object(o.useEffect)((function(){return g.collection("chats").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(o.useLayoutEffect)((function(){t.setOptions({title:"WOOF!",headerStyle:{backgroundColor:"white"},headerTitleStyle:{color:"black"},headerTintColor:"black",headerLeft:function(){var e;return i.a.createElement(m.a,{style:{marginLeft:20}},i.a.createElement(n.a,{activeOpacity:.5,onPress:a},i.a.createElement(p.a,{rounded:!0,source:{uri:null==E||null==(e=E.currentUser)?void 0:e.photoURL}})))},headerRight:function(){return i.a.createElement(m.a,{style:{flexDirection:"row",justifyContent:"space-between",width:80,marginRight:20}},i.a.createElement(n.a,{activeOpacity:.5},i.a.createElement(k.a,{name:"camerao",size:24,color:"black"})),i.a.createElement(n.a,{activeOpacity:.5,onPress:function(){return t.navigate("AddChat")}},i.a.createElement(P.a,{name:"pencil",size:24,color:"black"})))}})}),[t]);var d=function(e,a){t.navigate("Chat",{id:e,chatName:a})};return i.a.createElement(R.a,null,i.a.createElement(B.a,{style:z.container},l.map((function(e){var t=e.id,a=e.data.chatName;return i.a.createElement(L,{key:t,id:t,chatName:a,enterChat:d})}))))},z=c.a.create({container:{height:"100%"}}),N=a(153),U=function(e){var t=e.navigation,a=Object(o.useState)(""),n=u()(a,2),r=n[0],c=n[1];Object(o.useLayoutEffect)((function(){t.setOptions({title:"Add a new Chat",headerBackTitle:"Chats"})}),[]);var l=function(){return C.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.awrap(g.collection("chats").add({chatName:r}).then((function(){t.goBack()})).catch((function(e){return alert(e)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)};return i.a.createElement(m.a,{style:F.container},i.a.createElement(p.d,{leftIcon:i.a.createElement(N.default,{name:"wechat",type:"antdesign",size:24,color:"black"}),placeholder:"Enter a chat name",value:r,onSubmitEditing:l,onChangeText:c}),i.a.createElement(p.b,{buttonStyle:{backgroundColor:"#43464B"},disabled:!r,title:"Create new Chat",onPress:l}))},F=c.a.create({container:{backgroundColor:"white",padding:30,height:"100%"}}),W=a(29),A=a(8),D=a(56),J=a(76),_=a(68),V=a(239),G=a(230),H=function(e){var t=e.navigation,a=e.route,n=Object(o.useState)(""),c=u()(n,2),l=c[0],s=c[1],b=Object(o.useState)([]),y=u()(b,2),v=y[0],w=y[1];Object(o.useLayoutEffect)((function(){var e,n;t.setOptions({title:"Chat",headerBackTitleVisible:!1,headerTitleAlign:"left",headerTitle:i.a.createElement(m.a,{style:{flexDirection:"row",alignItems:"center"}},i.a.createElement(p.a,{rounded:!0,source:{uri:(null==(e=v[0])||null==(n=e.data)?void 0:n.photoURL)||"http://www.cencup.com/wp-content/uploads/2019/07/avatar-placeholder.png"}}),i.a.createElement(d.a,{style:{color:"white",marginLeft:10,fontWeight:"700"}},a.params.chatName)),headerLeft:function(){return i.a.createElement(W.a,{style:{marginLeft:10},onPress:t.goBack},i.a.createElement(k.a,{name:"arrowleft",size:24,color:"white"}))},headerRight:function(){return i.a.createElement(m.a,{style:{flexDirection:"row",justifyContent:"space-between",width:80,marginRight:20}},i.a.createElement(W.a,null,i.a.createElement(V.a,{name:"video-camera",size:24,color:"white"})),i.a.createElement(W.a,null,i.a.createElement(G.a,{name:"call",size:24,color:"white"})))}})}),[t,v]),Object(o.useLayoutEffect)((function(){return g.collection("chats").doc(a.params.id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return w(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[a]);var C=function(){_.a.dismiss(),g.collection("chats").doc(a.params.id).collection("messages").add({timestamp:f.firestore.FieldValue.serverTimestamp(),message:l,displayName:E.currentUser.displayName,email:E.currentUser.email,photoURL:E.currentUser.photoURL}),s("")};return i.a.createElement(R.a,{style:{flex:1,backgroundColor:"white"}},i.a.createElement(r.a,{style:"light"}),i.a.createElement(h.a,{behavior:"ios"===A.a.OS?"padding":"height",style:K.container,keyboardVerticalOffset:90},i.a.createElement(J.a,{onPress:_.a.dismiss},i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a,{contentContainerStyle:{paddingTop:15}},v.map((function(e){var t=e.id,a=e.data;return a.email===E.currentUser.email?i.a.createElement(m.a,{key:t,style:K.reciever},i.a.createElement(p.a,{rounded:!0,position:"absolute",containerStyle:{position:"absolute",right:-5,bottom:-10},size:20,bottom:-10,right:-5,source:{uri:a.photoURL}}),i.a.createElement(d.a,{style:K.recieverText},a.message)):i.a.createElement(m.a,{key:t,style:K.sender,key:t},i.a.createElement(p.a,{rounded:!0,position:"absolute",containerStyle:{position:"absolute",left:-5,bottom:-10},size:20,bottom:-10,left:-5,source:{uri:a.photoURL}}),i.a.createElement(d.a,{style:K.senderText},a.message),i.a.createElement(d.a,{style:K.senderName},a.displayName))}))),i.a.createElement(m.a,{style:K.footer},i.a.createElement(D.a,{placeholder:"Signal Message",value:l,style:K.textInput,onSubmitEditing:C,onChangeText:function(e){return s(e)}}),i.a.createElement(W.a,{onPress:C,activeOpacity:.5},i.a.createElement(G.a,{name:"send",size:24,color:"#2B68E6"})))))))},K=c.a.create({container:{flex:1},reciever:{padding:15,backgroundColor:"#ececec",alignSelf:"flex-end",borderRadius:20,marginRight:15,marginBottom:20,maxWidth:"80%",position:"relative"},recieverText:{color:"black",fontWeight:"500",marginLeft:10},sender:{padding:15,backgroundColor:"#2b68e6",alignSelf:"flex-start",borderRadius:20,margin:15,maxWidth:"80%",position:"relative"},senderText:{color:"white",fontWeight:"500",marginLeft:10,marginBottom:15},senderName:{left:10,paddingRight:10,fontSize:10,color:"white",fontSize:8},footer:{flexDirection:"row",alignItems:"center",width:"100%",padding:15},textInput:{bottom:0,height:40,flex:1,marginRight:15,backgroundColor:"#ECECEC",padding:10,color:"grey",borderRadius:30}}),M=Object(v.a)(),Y={headerStyle:{backgroundColor:"#43464B"},headerTitleStyle:{color:"white"},headerTintColor:"white"};function q(){return i.a.createElement(l.a,null,i.a.createElement(M.Navigator,{screenOptions:Y},i.a.createElement(M.Screen,{name:"Login to WOOF!",component:b}),i.a.createElement(M.Screen,{name:"Register",component:j}),i.a.createElement(M.Screen,{name:"Home",component:I}),i.a.createElement(M.Screen,{name:"AddChat",component:U}),i.a.createElement(M.Screen,{name:"Chat",component:H})))}c.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},275:function(e,t,a){e.exports=a(351)}},[[275,1,2]]]);
//# sourceMappingURL=app.5e593135.chunk.js.map